# Каво и ШО
## Сайт
1. Сначала запускаем терраформ, разбил на несколько файлов для удобства работы с ними, поднимается нужная нам инфроструктура в полностью завершенном виде, осилить динамический инвентори не удалось, убрал файлы пакетов из репозитория что бы место не занимали.
2. В остальном моменты закоментил что бы объяснить те или иные решения.
3. Запускаем сначала терраформ
![terraform apply](img/terraform%20apply.png)
![terraform complite](img/terraform%20complite.png)
![все вм](/img/VM.png)
4. Создайте Target Group, включите в неё две созданных ВМ.
![Target Group](/img/target%20grup.png)
5. Создайте Backend Group, настройте backends на target group, ранее созданную. Настройте healthcheck на корень (/) и порт 80, протокол HTTP.
![Backend Group](/img/backend-group.png)
6. Создайте HTTP router. Путь укажите — /, backend group — созданную ранее.
![HTTP router](/img/http-router.png)
7. Создайте Application load balancer для распределения трафика на веб-сервера, созданные ранее. Укажите HTTP router, созданный ранее, задайте listener тип auto, порт 80.
![Application load balancer](/img/balanser.png)
8. Затем Ансибл (иначе на 80 порту глухо), и терраформ и ансибл запускались с локальной виртуалки, но terraform из консоли, а с ансиблом тупо удобнее заботать из визуал студии.
![ансибл](/img/ansible.png)
9. curl -v по адресу балансировщика (не вижу смысла отдельно добавлять курлы по каждому вебсерверу отдельно)
![curl](/img/curl%20-v.png)
## Мониторинг
Все сконфигурированно ансиблом, нам остается только залогинится и настроить дашборды
![]()

## Логи
Ансибл делает все в исчерпывающем виде, рукми ничего делать не нужно, логи идут с обоих web серверов, так же виден и ip kibana, на всякий приложил скрин из консоли разработчика где видна доступность elastic
![логи](/img/логи.png)
![discover](/img/elc-discover.png)
![elastic](/img/elastic.png)

## Сеть
Как я понимаю оценисть сеть можно исчерпывающи посмотрев файл terraform
![сеть](/img/network.png)
![sg](/img/secure-group.png)

## Резервное копирование
Сделал задачу в шедулере для ежедневного копирования в 0:00
![Снимки](/img/)